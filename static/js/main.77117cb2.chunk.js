(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(35)},31:function(e,t){},35:function(e,t,n){"use strict";n.r(t);var a,r,i,o,c,l,s,u,p,b=n(0),h=n.n(b),d=n(12),f=n.n(d),v=n(3),m=n(5),g=n(9),O=n(6),j=n(10),w=n(7),y=n(2),x=n(21),E=n.n(x),C=n(8),S=n(17),T=n.n(S),z=n(18),k=n(19),I=n(14),P=n(11),F=n(4),R=(n(33),n(1)),A=(a=function(){function e(t){Object(v.a)(this,e),Object(P.a)(this,"tileSize",r,this),Object(P.a)(this,"gapSize",i,this),Object(P.a)(this,"overlayText",o,this),Object(P.a)(this,"inputImageData",c,this),Object(P.a)(this,"baseCanvas",l,this),Object(P.a)(this,"setBaseCanvas",s,this),Object(P.a)(this,"addFile",u,this),Object(P.a)(this,"setOverlayText",p,this),this.imageProcessor=t}return Object(m.a)(e,[{key:"width",get:function(){return 3*this.tileSize+2*this.gapSize}},{key:"height",get:function(){return this.tileSize}},{key:"previewCanvas",get:function(){return this.imageProcessor.addTextToCanvas(this.baseCanvas,this.overlayText)}},{key:"downloadImages",get:function(){var e=this;return function(){return e.imageProcessor.downloadImages(e.previewCanvas,e.tileSize,e.gapSize)}}}]),e}(),r=Object(F.a)(a.prototype,"tileSize",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1080}}),i=Object(F.a)(a.prototype,"gapSize",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),o=Object(F.a)(a.prototype,"overlayText",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(F.a)(a.prototype,"width",[R.computed],Object.getOwnPropertyDescriptor(a.prototype,"width"),a.prototype),Object(F.a)(a.prototype,"height",[R.computed],Object.getOwnPropertyDescriptor(a.prototype,"height"),a.prototype),c=Object(F.a)(a.prototype,"inputImageData",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=Object(F.a)(a.prototype,"baseCanvas",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.imageProcessor.getPlaceholderCanvas(this.width,this.height,this.tileSize,this.gapSize)}}),s=Object(F.a)(a.prototype,"setBaseCanvas",[R.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.baseCanvas=t}}}),Object(F.a)(a.prototype,"previewCanvas",[R.computed],Object.getOwnPropertyDescriptor(a.prototype,"previewCanvas"),a.prototype),u=Object(F.a)(a.prototype,"addFile",[R.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.imageProcessor.getCanvasFromFile(t,e.width,e.height,e.tileSize,e.gapSize).then(function(t){return e.setBaseCanvas(t)})}}}),p=Object(F.a)(a.prototype,"setOverlayText",[R.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.overlayText=t}}}),Object(F.a)(a.prototype,"downloadImages",[R.computed],Object.getOwnPropertyDescriptor(a.prototype,"downloadImages"),a.prototype),a);function D(){var e=Object(w.a)(["\n\n    margin: 8px;\n\n  .file-upload-content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 250px;\n    height: 80px;\n    background: #E6E7E6;\n    border: 1px solid #476A6F;\n  }\n"]);return D=function(){return e},e}var B=C.a.section(D()),L=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.addFile;return h.a.createElement(B,null,h.a.createElement("h2",null,"1. Upload file"),h.a.createElement("div",{className:"file-upload-content"},h.a.createElement("input",{className:"file-upload",type:"file",onChange:function(t){return e(t.target.files[0])}})))}}]),t}(b.Component),N=Object(y.inject)(function(e){return{addFile:e.appState.addFile}})(Object(y.observer)(L));function U(){var e=Object(w.a)(["\n    width: calc(100% - 72px);\n    max-width: 960px;\n\n    margin: 36px 0;\n    padding: 0;\n"]);return U=function(){return e},e}var W=C.a.img(U()),J=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return h.a.createElement(W,{alt:"Preview",src:this.props.previewCanvas&&this.props.previewCanvas.toDataURL("image/png")})}}]),t}(b.Component);J.defaultProps={previewCanvas:null};var H=Object(y.inject)(function(e){return{previewCanvas:e.appState.previewCanvas}})(Object(y.observer)(J));function $(){var e=Object(w.a)(["\n  margin: 8px;\n\n  .download-content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 250px;\n    height: 80px;\n    background: #E6E7E6;\n    border: 1px solid #476a6f;\n  }\n"]);return $=function(){return e},e}var q=C.a.section($()),G=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return h.a.createElement(q,null,h.a.createElement("h2",null,"3. Download images"),h.a.createElement("div",{className:"download-content"},h.a.createElement("button",{className:"download-button",onClick:this.props.downloadImages},"Download")))}}]),t}(b.Component),K=Object(y.inject)(function(e){return{downloadImages:e.appState.downloadImages}})(Object(y.observer)(G)),M=n(20);function Q(){var e=Object(w.a)(["\n  margin: 8px;\n\n  .text-controls-content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 250px;\n    height: 80px;\n    background: #E6E7E6;\n    border: 1px solid #476a6f;\n  }\n\n  .text-controls-content > * {\n    margin: 8px;\n  }\n"]);return Q=function(){return e},e}var V=C.a.section(Q()),X=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(g.a)(this,Object(O.a)(t).call(this,e))).onChange=function(e){var t=e.target.value;n.setState({overlayText:t}),n.setOverlayText(t)},n.setOverlayText=Object(M.throttle)(n.props.setOverlayText,500),n.state={overlayText:""},n}return Object(j.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return h.a.createElement(V,null,h.a.createElement("h2",null,"2. Add text"),h.a.createElement("div",{className:"text-controls-content"},h.a.createElement("p",null,"Text:"),h.a.createElement("input",{type:"text",value:this.state.overlayText,onChange:this.onChange})))}}]),t}(b.Component);X.defaultProps={overlayText:""},X.initialState={overlayText:""};var Y=Object(y.inject)(function(e){var t=e.appState;return{overlayText:t.overlayText,setOverlayText:t.setOverlayText}})(Object(y.observer)(X));function Z(){var e=Object(w.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Lato');\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  min-width: 100vw;\n  min-height: 100vh;\n\n  margin: 0;\n\n  font-family: 'Lato', sans-serif;\n\n  h1 {\n    font-weight: normal;\n  }\n\n  .controls {\n    display: flex;\n    align-items: center;\n  }\n"]);return Z=function(){return e},e}var _=C.a.div(Z()),ee=new A(new function e(){var t=this;Object(v.a)(this,e),this.getPlaceholderCanvas=function(e,t,n,a){var r=Object(I.createCanvas)(e,t),i=r.getContext("2d");return i.fillStyle="#E6E7E6",i.fillRect(0,0,e,t),i.fillStyle="white",i.fillRect(n+a,0,a,n),i.fillRect(2*n+2*a,0,a,n),r},this.getCanvasFromFile=function(){var e=Object(z.a)(T.a.mark(function e(t,n,a,r,i){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new k.a(function(e){var o=new FileReader;o.onload=function(t){var o=t.target.result,c=new Image;c.onload=function(t){var o,c,l,s,u=t.target,p=Object(I.createCanvas)(n,a),b=p.getContext("2d");b.fillStyle="white",b.fillRect(0,0,n,a);var h=u.width/u.height;h>n/a?(o=n,l=0,s=(a-(c=n/h))/2):(c=a,l=(n-(o=a*h))/2,s=0),b.drawImage(u,l,s,o,c),b.fillRect(r,0,i,r),b.fillRect(2*r+i,0,i,r),e(p)},c.src=o},o.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),this.addTextToCanvas=function(e,t){var n=e.width,a=e.height,r=Object(I.createCanvas)(n,a),i=r.getContext("2d");return i.drawImage(e,0,0,n,a),i.fillStyle="white",i.font="600px Helvetica, Arial, sans",i.textAlign="center",i.fillText(t,n/2,a/2+220),r},this.saveBlobAsFile=function(e,t){var n=document.createElement("a");n.setAttribute("download",t),n.setAttribute("href",window.URL.createObjectURL(e)),n.click()},this.downloadImages=function(e,n,a){var r=[],i=3;[0,n+a,2*n+2*a].forEach(function(a,o){var c=Object(I.createCanvas)(n,n);c.getContext("2d").drawImage(e,a,0,n,n,0,0,n,n),c.toBlob(function(e){r[2-o]=e,--i||r.forEach(function(e,n){t.saveBlobAsFile(e,"grid-image-".concat(3-n,".png"))})})})}}),te=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return h.a.createElement(y.Provider,{appState:ee},h.a.createElement(_,{className:"App"},h.a.createElement("h1",null,h.a.createElement("span",{role:"img","aria-label":"Wizard emoji"},"\ud83e\uddd9\ud83c\udffb\u200d\u2640\ufe0f")," ","Layout your image on 3x1 grid for Instagram"),h.a.createElement(H,null),h.a.createElement("div",{className:"controls"},h.a.createElement(N,null),h.a.createElement(Y,null),h.a.createElement(K,null)),h.a.createElement(E.a,null)))}}]),t}(b.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.render(h.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.77117cb2.chunk.js.map