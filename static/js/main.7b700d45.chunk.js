(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(30)},27:function(e,t){},30:function(e,t,n){"use strict";n.r(t);var a,r,i,o,c,l,s,u,p,d=n(0),g=n.n(d),m=n(7),b=n.n(m),f=n(4),v=n(2),h=n(17),w=n.n(h),x=n(5),y=n(13),j=n.n(y),O=n(14),C=n(11),E=n(15),z=n(9),S=n(6),T=n(16),I=n(3),P=(n(29),n(1)),k=(a=function(){function e(t){Object(C.a)(this,e),Object(S.a)(this,"tileSize",r,this),Object(S.a)(this,"gapSize",i,this),Object(S.a)(this,"overlayText",o,this),Object(S.a)(this,"inputImageData",c,this),Object(S.a)(this,"baseCanvas",l,this),Object(S.a)(this,"setBaseCanvas",s,this),Object(S.a)(this,"addFile",u,this),Object(S.a)(this,"setOverlayText",p,this),this.imageProcessor=t}return Object(T.a)(e,[{key:"width",get:function(){return 3*this.tileSize+2*this.gapSize}},{key:"height",get:function(){return this.tileSize}},{key:"textCanvas",get:function(){return this.imageProcessor.getTextCanvas(this.baseCanvas.width,this.baseCanvas.height,this.overlayText)}},{key:"downloadImages",get:function(){var e=this;return function(){return e.imageProcessor.downloadImages(e.baseCanvas,e.textCanvas,e.tileSize,e.gapSize)}}}]),e}(),r=Object(I.a)(a.prototype,"tileSize",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1080}}),i=Object(I.a)(a.prototype,"gapSize",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),o=Object(I.a)(a.prototype,"overlayText",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(I.a)(a.prototype,"width",[P.computed],Object.getOwnPropertyDescriptor(a.prototype,"width"),a.prototype),Object(I.a)(a.prototype,"height",[P.computed],Object.getOwnPropertyDescriptor(a.prototype,"height"),a.prototype),c=Object(I.a)(a.prototype,"inputImageData",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=Object(I.a)(a.prototype,"baseCanvas",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.imageProcessor.getPlaceholderCanvas(this.width,this.height,this.tileSize,this.gapSize)}}),s=Object(I.a)(a.prototype,"setBaseCanvas",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.baseCanvas=t}}}),Object(I.a)(a.prototype,"textCanvas",[P.computed],Object.getOwnPropertyDescriptor(a.prototype,"textCanvas"),a.prototype),u=Object(I.a)(a.prototype,"addFile",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.imageProcessor.getCanvasFromFile(t,e.width,e.height,e.tileSize,e.gapSize).then(function(t){return e.setBaseCanvas(t)})}}}),p=Object(I.a)(a.prototype,"setOverlayText",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.overlayText=t}}}),Object(I.a)(a.prototype,"downloadImages",[P.computed],Object.getOwnPropertyDescriptor(a.prototype,"downloadImages"),a.prototype),a);function N(){var e=Object(f.a)(["\n  margin: 8px;\n\n  .file-upload-content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 250px;\n    height: 80px;\n    background: #e6e7e6;\n    border: 1px solid #476a6f;\n  }\n\n  .section-heading {\n    font-weight: normal;\n  }\n"]);return N=function(){return e},e}var F=x.a.section(N()),R=Object(v.inject)(function(e){return{addFile:e.appState.addFile}})(Object(v.observer)(function(e){var t=e.addFile;return g.a.createElement(F,null,g.a.createElement("h2",{className:"section-heading"},"1. Upload file"),g.a.createElement("div",{className:"file-upload-content"},g.a.createElement("input",{className:"file-upload",type:"file",onChange:function(e){return t(e.target.files[0])}})))}));function D(){var e=Object(f.a)(["\n\n    height:311px;\n  .canvas {\n    margin: auto;\n    width: 940px;\n\n\n\n    padding: 0;\n\n    border: none;\n  }\n\n  .text-canvas {\n    transform: translateY(calc(-100% - 4px));\n  }\n"]);return D=function(){return e},e}var A=x.a.div(D()),B=function(e){var t=e.baseCanvas,n=e.textCanvas;return g.a.createElement(A,null,g.a.createElement("img",{className:"canvas image-canvas",alt:"Preview",src:t&&t.toDataURL("image/png")}),g.a.createElement("img",{className:"canvas text-canvas",alt:"Preview",src:n&&n.toDataURL("image/png")}))};B.defaultProps={baseCanvas:null,textCanvas:null};var L=Object(v.inject)(function(e){var t=e.appState;return{baseCanvas:t.baseCanvas,textCanvas:t.textCanvas}})(Object(v.observer)(B));function U(){var e=Object(f.a)(["\n  margin: 8px;\n\n  .download-content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 250px;\n    height: 80px;\n    background: #e6e7e6;\n    border: 1px solid #476a6f;\n  }\n\n  .section-heading {\n    font-weight: normal;\n  }\n"]);return U=function(){return e},e}var W=x.a.section(U()),J=Object(v.inject)(function(e){return{downloadImages:e.appState.downloadImages}})(Object(v.observer)(function(e){var t=e.downloadImages;return g.a.createElement(W,null,g.a.createElement("h2",{className:"section-heading"},"3. Download images"),g.a.createElement("div",{className:"download-content"},g.a.createElement("button",{className:"download-button",onClick:t},"Download")))}));function H(){var e=Object(f.a)(["\n  margin: 8px;\n\n  .text-controls-content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 250px;\n    height: 80px;\n    background: #e6e7e6;\n    border: 1px solid #476a6f;\n  }\n\n  .text-controls-content > * {\n    margin: 8px;\n  }\n\n  .section-heading {\n    font-weight: normal;\n  }\n"]);return H=function(){return e},e}var Y=x.a.section(H()),$=function(e){var t=e.overlayText,n=e.setOverlayText;return g.a.createElement(Y,null,g.a.createElement("h2",{className:"section-heading"},"2. Add text"),g.a.createElement("div",{className:"text-controls-content"},g.a.createElement("p",null,"Text:"),g.a.createElement("input",{type:"text",value:t,onChange:function(e){var t=e.target.value;n(t)}})))};$.defaultProps={overlayText:""};var q=Object(v.inject)(function(e){var t=e.appState;return{overlayText:t.overlayText,setOverlayText:t.setOverlayText}})(Object(v.observer)($));function G(){var e=Object(f.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Lato');\n\n  * {\n    box-sizing: border-box;\n  }\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  min-width: 100vw;\n  min-height: 100vh;\n\n  margin: 0;\n\n  font-family: 'Lato', sans-serif;\n\n  .title {\n    font-weight: normal;\n  }\n\n  .controls {\n    display: flex;\n    align-items: center;\n  }\n"]);return G=function(){return e},e}var K=x.a.div(G()),M=new k(new function e(){var t=this;Object(C.a)(this,e),this.getPlaceholderCanvas=function(e,t,n,a){var r=Object(z.createCanvas)(e,t),i=r.getContext("2d");return i.fillStyle="#E6E7E6",i.fillRect(0,0,e,t),i.fillStyle="white",i.fillRect(n+a,0,a,n),i.fillRect(2*n+2*a,0,a,n),r},this.getCanvasFromFile=function(){var e=Object(O.a)(j.a.mark(function e(t,n,a,r,i){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new E.a(function(e){var o=new FileReader;o.onload=function(t){var o=t.target.result,c=new Image;c.onload=function(t){var o,c,l,s,u=t.target,p=Object(z.createCanvas)(n,a),d=p.getContext("2d");d.fillStyle="white",d.fillRect(0,0,n,a);var g=u.width/u.height;g>n/a?(o=n,l=0,s=(a-(c=n/g))/2):(c=a,l=(n-(o=a*g))/2,s=0),d.drawImage(u,l,s,o,c),d.fillRect(r,0,i,r),d.fillRect(2*r+i,0,i,r),e(p)},c.src=o},o.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),this.getTextCanvas=function(e,t,n){var a=Object(z.createCanvas)(e,t),r=a.getContext("2d");return r.fillStyle="white",r.font="600px Helvetica, Arial, sans",r.textAlign="center",r.fillText(n,e/2,t/2+220),a},this.saveBlobAsFile=function(e,t){var n=document.createElement("a");n.setAttribute("download",t),n.setAttribute("href",window.URL.createObjectURL(e)),n.click()},this.downloadImages=function(e,n,a,r){var i=[],o=3;[0,a+r,2*a+2*r].forEach(function(r,c){var l=Object(z.createCanvas)(a,a),s=l.getContext("2d");s.drawImage(e,r,0,a,a,0,0,a,a),s.drawImage(n,r,0,a,a,0,0,a,a),l.toBlob(function(e){i[2-c]=e,--o||i.forEach(function(e,n){t.saveBlobAsFile(e,"grid-image-".concat(3-n,".png"))})})})}}),Q=function(){return g.a.createElement(v.Provider,{appState:M},g.a.createElement(K,{className:"App"},g.a.createElement("h1",{className:"title"},g.a.createElement("span",{role:"img","aria-label":"Wizard emoji"},"\ud83e\uddd9\ud83c\udffb\u200d\u2640\ufe0f")," ","Layout your image on 3x1 grid for Instagram"),g.a.createElement(L,null),g.a.createElement("div",{className:"controls"},g.a.createElement(R,null),g.a.createElement(q,null),g.a.createElement(J,null)),g.a.createElement(w.a,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));b.a.render(g.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.7b700d45.chunk.js.map